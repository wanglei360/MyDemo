package com.myplayer.video_2;import android.app.Activity;import android.net.Uri;import android.os.Bundle;import android.os.Environment;import android.view.View;import android.widget.MediaController;import android.widget.VideoView;import com.myplayer.R;import java.io.File;public class VideoActivity extends Activity {    private VideoView videoView;    private MediaController mediaController;    @Override    protected void onCreate(Bundle savedInstanceState) {        super.onCreate(savedInstanceState);        setContentView(R.layout.player_layout);        videoView = (VideoView)this.findViewById(R.id.video_view);        mediaController = (MediaController) findViewById(R.id.media_controller);    }//    @Override//    protected void onResume() {//        super.onResume();//    }    @Override    protected void onPause() {        super.onPause();        if(videoView!=null){            videoView.stopPlayback();            videoView = null;        }    }    /**     * <uses-permission android:name="android.permission.INTERNET" /> 联网的权限     * <uses-permission android:name="android.permission.WRITE_EXTERNAL_STORAGE" /> 写sd卡权限     * @param view     */    public void but1(View view){        try {//        Uri uri = Uri.parse(newFileName("shipin"));///storage/emulated/0/shipin.mp4//            Uri uri = Uri.parse("http://i.tbzbimg.cn/test/amp4.mp4");//网络视频地址            Uri uri = Uri.parse("http://test.new.media.bandu.in/mp4/13410/peiyin.mp4");//网络视频地址            videoView.setMediaController(new MediaController(this));//        videoView.setMediaController(mediaController);//todo 用这种方法View的绘制方法会空指针            videoView.setVideoURI(uri);            videoView.start();            videoView.requestFocus();        } catch (Exception e) {            e.printStackTrace();        }    }    // 声音录制在本地的地址    private String newFileName(String str) {        String folder;        if (Environment.getExternalStorageState().equals(// 如果sd卡挂载了                android.os.Environment.MEDIA_MOUNTED)) {            folder = Environment.getExternalStorageDirectory()// 存SD卡上                    + File.separator;        } else {            folder = Environment.getRootDirectory() + File.separator;// 否则存机器上        }        File file = new File(folder);        if (!file.exists()) {            file.mkdirs();        }        return folder + str + ".mp4";//123    }}